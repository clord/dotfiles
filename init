#!/bin/bash

# The files that we are going to replace
files="irbrc ghci sqliterc gitconfig gitmessage"

# use the working directory as the place to link into
wdir=`pwd`

# Remove old files, and symlink the new ones into place
for f in $files; do
   echo "-> " $f
   rm -rf ~/.$f
   ln -s $wdir/$f ~/.$f
done

mkdir -p ~/.config/fish/functions
ln -s ~/dotfiles/config.fish ~/.config/fish

echo 'Create per-machine storage and configuration'
mkdir -p ~/tmp/{backup,undo,swap}
touch ~/tmp/user.vim

git config --global commit.template ~/.gitmessage

echo 'Non-destructively create the ~/.local namespace, where user installed stuff will live'
mkdir -p ~/.local{,/`uname -s`}/{{,s}bin,share{,/man},etc,var,lib}
